{"version":3,"sources":["./src/playground/with-layout/oauth2/oauth2-routing.module.ts","./src/playground/with-layout/oauth2/oauth2-login.component.ts","./src/playground/with-layout/oauth2/oauth2.module.ts","./src/playground/with-layout/oauth2/oauth2-callback.component.ts"],"names":[],"mappings":"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","file":"oauth2-oauth2-module.js","sourcesContent":["/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n\nimport { NgModule } from '@angular/core';\nimport { RouterModule, Route} from '@angular/router';\nimport { OAuth2CallbackComponent } from './oauth2-callback.component';\nimport { OAuth2LoginComponent } from './oauth2-login.component';\n\nconst routes: Route[] = [\n  {\n    path: '',\n    component: OAuth2LoginComponent,\n  },\n  {\n    path: 'callback',\n    component: OAuth2CallbackComponent,\n  },\n];\n\n@NgModule({\n  imports: [ RouterModule.forChild(routes) ],\n  exports: [ RouterModule ],\n})\nexport class Oauth2RoutingModule {}\n","/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n\nimport { Component, OnDestroy } from '@angular/core';\nimport { NbAuthOAuth2Token, NbAuthResult, NbAuthService } from '@nebular/auth';\nimport { takeUntil } from 'rxjs/operators';\nimport { Subject } from 'rxjs';\n\n@Component({\n  selector: 'nb-playground-auth',\n  template: `\n    <nb-layout>\n      <nb-layout-column>\n        <nb-card>\n          <nb-card-body>\n            <p>Current User Authenticated: {{ !!token }}</p>\n            <p>Current User Token: {{ token|json }}</p>\n\n            <button nbButton status=\"success\" *ngIf=\"!token\" (click)=\"login()\">Sign In with Google</button>\n            <button nbButton status=\"warning\" *ngIf=\"token\" (click)=\"logout()\">Sign Out</button>\n          </nb-card-body>\n        </nb-card>\n      </nb-layout-column>\n    </nb-layout>\n  `,\n})\nexport class OAuth2LoginComponent implements OnDestroy {\n\n  token: NbAuthOAuth2Token;\n\n  private destroy$ = new Subject<void>();\n\n  constructor(private authService: NbAuthService) {\n    this.authService.onTokenChange()\n      .pipe(takeUntil(this.destroy$))\n      .subscribe((token: NbAuthOAuth2Token) => {\n        this.token = null;\n        if (token && token.isValid()) {\n          this.token = token;\n        }\n      });\n  }\n\n  login() {\n    this.authService.authenticate('google')\n      .pipe(takeUntil(this.destroy$))\n      .subscribe((authResult: NbAuthResult) => {\n      });\n  }\n\n  logout() {\n    this.authService.logout('google')\n      .pipe(takeUntil(this.destroy$))\n      .subscribe((authResult: NbAuthResult) => {\n      });\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n}\n","/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { HttpClientModule } from '@angular/common/http';\n\nimport {\n  NbCardModule,\n  NbLayoutModule,\n} from '@nebular/theme';\n\nimport {\n  NbAuthModule,\n  NbOAuth2AuthStrategy,\n  NbOAuth2ResponseType,\n} from '@nebular/auth';\n\nimport { OAuth2LoginComponent } from './oauth2-login.component';\nimport { OAuth2CallbackComponent } from './oauth2-callback.component';\nimport { Oauth2RoutingModule } from './oauth2-routing.module';\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    HttpClientModule,\n\n    NbAuthModule.forRoot({\n      strategies: [\n        NbOAuth2AuthStrategy.setup({\n          name: 'google',\n          clientId: '806751403568-03376bvlin9n3rhid0cahus6ei3lc69q.apps.googleusercontent.com',\n          clientSecret: '',\n          authorize: {\n            endpoint: 'https://accounts.google.com/o/oauth2/v2/auth',\n            responseType: NbOAuth2ResponseType.TOKEN,\n            scope: 'https://www.googleapis.com/auth/userinfo.profile',\n            redirectUri: 'https://akveo.github.io/nebular/example/oauth2/callback',\n          },\n\n          redirect: {\n            success: '/example/oauth2',\n          },\n        }),\n      ],\n    }),\n\n    NbCardModule,\n    NbLayoutModule,\n    Oauth2RoutingModule,\n  ],\n  declarations: [\n    OAuth2LoginComponent,\n    OAuth2CallbackComponent,\n  ],\n})\nexport class OAuth2PlaygroundModule {\n}\n","/**\n * @license\n * Copyright Akveo. All Rights Reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n */\n\nimport { Component, OnDestroy } from '@angular/core';\nimport { NbAuthResult, NbAuthService } from '@nebular/auth';\nimport { Router } from '@angular/router';\nimport { takeUntil } from 'rxjs/operators';\nimport { Subject } from 'rxjs';\n\n@Component({\n  selector: 'nb-playground-oauth2-callback',\n  template: `\n    <nb-layout>\n      <nb-layout-column>Authenticating...</nb-layout-column>\n    </nb-layout>\n  `,\n})\nexport class OAuth2CallbackComponent implements OnDestroy {\n\n  private destroy$ = new Subject<void>();\n\n  constructor(private authService: NbAuthService, private router: Router) {\n    this.authService.authenticate('google')\n      .pipe(takeUntil(this.destroy$))\n      .subscribe((authResult: NbAuthResult) => {\n        if (authResult.isSuccess() && authResult.getRedirect()) {\n          this.router.navigateByUrl(authResult.getRedirect());\n        }\n      });\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n}\n"],"sourceRoot":"webpack:///"}